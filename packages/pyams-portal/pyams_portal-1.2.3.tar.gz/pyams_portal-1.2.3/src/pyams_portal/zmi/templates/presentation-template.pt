<div tal:define="context view.get_content();
				 js tales:resource_path('pyams_portal.zmi:layout_js');
				 css tales:resource_path('pyams_portal.zmi:layout_css');"
	 data-ams-modules='{"portal": "${js}"}'
	 data-ams-portal-css="${css}"
	 i18n:domain="pyams_portal">
	<i tal:omit-tag="">${structure:provider:pyams.form_header}</i>
	<fieldset tal:define="help provider:pyams.help;
						  prefix provider:pyams.prefix;
						  suffix provider:pyams.suffix;
						  has_widgets tuple(filter(lambda x: x.mode == 'display', view.widgets.values()));"
			  tal:omit-tag="not:help or prefix or has_widgets or suffix"
			  class="border">
		<legend tal:condition="view.legend and (help or prefix or has_widgets or suffix)"
				i18n:translate="">${view.legend}</legend>
		<i tal:omit-tag="">${structure:help}</i>
		<i tal:omit-tag="">${structure:prefix}</i>
		<div class="form-group m-3">
			<div class="custom-control custom-radio">
				<input type="radio"
					   id="shared_template_mode" name="template_mode"
					   class="custom-control-input" value="shared"
					   checked="${'checked' if not context.inherit_parent and context.use_shared_template else None}">
				<label class="custom-control-label" for="shared_template_mode" i18n:translate="">
					Use shared template
				</label>
				<div class="input mt-2">${structure:view.widgets['shared_template'].render()}</div>
			</div>
		</div>
		<div class="form-group m-3">
			<div class="custom-control custom-radio">
				<input type="radio"
					   id="local_template_mode" name="template_mode"
					   class="custom-control-input" value="local"
					   checked="${'checked' if not context.inherit_parent and context.use_local_template else None}">
				<label class="custom-control-label" for="local_template_mode" i18n:translate="">
					Use local template
				</label>
			</div>
		</div>
		<i tal:omit-tag="">${structure:suffix}</i>
	</fieldset>
</div>