(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[6054],{55424:(e,r,t)=>{"use strict";t.d(r,{Bm:()=>s,o1:()=>n,iK:()=>a,rl:()=>o,xZ:()=>y,ZC:()=>p,_Z:()=>c,Jj:()=>i});const s=()=>({stat_energy_from:"",stat_cost:null,entity_energy_from:null,entity_energy_price:null,number_energy_price:null}),n=()=>({stat_energy_to:"",stat_compensation:null,entity_energy_to:null,entity_energy_price:null,number_energy_price:null}),a=()=>({type:"grid",flow_from:[],flow_to:[],cost_adjustment_day:0}),o=()=>({type:"solar",stat_energy_from:"",config_entry_solar_forecast:null}),y=e=>e.callWS({type:"energy/info"}),p=e=>e.callWS({type:"energy/get_prefs"}),c=(e,r)=>e.callWS({type:"energy/save_prefs",...r}),i=e=>{const r={};for(const t of e.energy_sources)t.type in r?r[t.type].push(t):r[t.type]=[t];return r}},66054:(e,r,t)=>{"use strict";t.r(r),t.d(r,{EnergyStrategy:()=>n});var s=t(55424);class n{static async generateView(e){const r=e.hass,n={cards:[]};let a;try{a=await(0,s.ZC)(r)}catch(e){return"not_found"===e.code?(async()=>(await Promise.all([t.e(8161),t.e(8985),t.e(1657),t.e(7521),t.e(363)]).then(t.bind(t,55158)),{type:"panel",cards:[{type:"custom:energy-setup-wizard-card"}]}))():(n.cards.push({type:"markdown",content:`An error occured while fetching your energy preferences: ${e.message}.`}),n)}n.type="sidebar";const o=a.energy_sources.some((e=>"grid"===e.type)),y=a.energy_sources.some((e=>"solar"===e.type));return o&&n.cards.push({title:"Electricity",type:"energy-summary-graph",prefs:a}),y&&n.cards.push({title:"Solar production",type:"energy-solar-graph",prefs:a}),o&&n.cards.push({title:"Costs",type:"energy-costs-table",prefs:a}),a.device_consumption.length&&n.cards.push({title:"Monitor individual devices",type:"energy-devices-graph",prefs:a}),o&&n.cards.push({type:"energy-usage",prefs:a,view_layout:{position:"sidebar"}}),y&&n.cards.push({type:"energy-solar-consumed-gauge",prefs:a,view_layout:{position:"sidebar"}}),o&&n.cards.push({type:"energy-carbon-consumed-gauge",prefs:a,view_layout:{position:"sidebar"}}),n.cards.push({type:"energy-summary",prefs:a,view_layout:{position:"sidebar"}}),n}}}}]);
//# sourceMappingURL=68eb8656.js.map