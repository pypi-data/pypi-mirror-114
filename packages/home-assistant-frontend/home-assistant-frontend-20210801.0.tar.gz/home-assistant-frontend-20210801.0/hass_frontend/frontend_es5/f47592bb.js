(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[2874],{23682:function(e,t,n){"use strict";function r(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}n.d(t,{Z:function(){return r}})},90394:function(e,t,n){"use strict";function r(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}n.d(t,{Z:function(){return r}})},59699:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(90394),u=n(39244),o=n(23682),a=36e5;function i(e,t){(0,o.Z)(2,arguments);var n=(0,r.Z)(t);return(0,u.Z)(e,n*a)}},39244:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(90394),u=n(34327),o=n(23682);function a(e,t){(0,o.Z)(2,arguments);var n=(0,u.Z)(e).getTime(),a=(0,r.Z)(t);return new Date(n+a)}},93752:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(34327),u=n(23682);function o(e){(0,u.Z)(1,arguments);var t=(0,r.Z)(e);return t.setHours(23,59,59,999),t}},70390:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(93752);function u(){return(0,r.Z)(Date.now())}},61334:function(e,t,n){"use strict";function r(){var e=new Date,t=e.getFullYear(),n=e.getMonth(),r=e.getDate(),u=new Date(0);return u.setFullYear(t,n,r-1),u.setHours(23,59,59,999),u}n.d(t,{Z:function(){return r}})},59429:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(34327),u=n(23682);function o(e){(0,u.Z)(1,arguments);var t=(0,r.Z)(e);return t.setHours(0,0,0,0),t}},27088:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(59429);function u(){return(0,r.Z)(Date.now())}},83008:function(e,t,n){"use strict";function r(){var e=new Date,t=e.getFullYear(),n=e.getMonth(),r=e.getDate(),u=new Date(0);return u.setFullYear(t,n,r-1),u.setHours(0,0,0,0),u}n.d(t,{Z:function(){return r}})},34327:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(23682);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){(0,r.Z)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===u(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}},66054:function(e,t,n){"use strict";n.r(t),n.d(t,{EnergyStrategy:function(){return s}});var r=n(55424);function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n,r,u,o,a){try{var i=e[o](a),s=i.value}catch(c){return void n(c)}i.done?t(s):Promise.resolve(s).then(r,u)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(r,u){var a=e.apply(t,n);function i(e){o(a,r,u,i,s,"next",e)}function s(e){o(a,r,u,i,s,"throw",e)}i(void 0)}))}}var i=function(){var e=a(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([n.e(8161),n.e(8985),n.e(1657),n.e(3762),n.e(7521),n.e(363)]).then(n.bind(n,55158));case 2:return e.abrupt("return",{type:"panel",cards:[{type:"custom:energy-setup-wizard-card"}]});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o,s;return t=e,n=null,o=[{key:"generateView",value:(s=a(regeneratorRuntime.mark((function e(t){var n,u,o,a,s,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.hass,u={cards:[]},e.prev=2,e.next=5,(0,r.ZC)(n);case 5:o=e.sent,e.next=14;break;case 8:if(e.prev=8,e.t0=e.catch(2),"not_found"!==e.t0.code){e.next=12;break}return e.abrupt("return",i());case 12:return u.cards.push({type:"markdown",content:"An error occured while fetching your energy preferences: ".concat(e.t0.message,".")}),e.abrupt("return",u);case 14:return u.type="sidebar",a=o.energy_sources.find((function(e){return"grid"===e.type})),s=a&&a.flow_to.length,c=o.energy_sources.some((function(e){return"solar"===e.type})),(0,r.UB)(n,o),u.cards.push({type:"energy-date-selection"}),a&&u.cards.push({title:"Energy usage",type:"energy-usage-graph"}),c&&u.cards.push({title:"Solar production",type:"energy-solar-graph"}),a&&u.cards.push({title:"Energy distribution",type:"energy-distribution",view_layout:{position:"sidebar"}}),(a||c)&&u.cards.push({title:"Sources",type:"energy-sources-table"}),s&&u.cards.push({type:"energy-grid-neutrality-gauge",view_layout:{position:"sidebar"}}),c&&s&&u.cards.push({type:"energy-solar-consumed-gauge",view_layout:{position:"sidebar"}}),a&&u.cards.push({type:"energy-carbon-consumed-gauge",view_layout:{position:"sidebar"}}),o.device_consumption.length&&u.cards.push({title:"Monitor individual devices",type:"energy-devices-graph"}),e.abrupt("return",u);case 29:case"end":return e.stop()}}),e,null,[[2,8]])}))),function(e){return s.apply(this,arguments)})}],n&&u(t.prototype,n),o&&u(t,o),e}()}}]);
//# sourceMappingURL=f47592bb.js.map