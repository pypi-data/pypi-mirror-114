{% extends "layouts/base.html" %}
{% load tz i18n%}

{% block content %}
  <div class="table-responsive">
    <table class="table table-striped table-sm table-hover">
      <thead>
      <tr>
        <th></th>
        <th>{% trans 'Last name' %}</th>
        <th>{% trans 'First name' %}</th>
        <th>{% trans 'Birth date' %}</th>
        <th><i class="bi-phone"></i></th>
        <th><i class="bi-envelope-open"></i></th>
      </tr>
      </thead>
      <tbody>
      {% for patient in patient_list %}
        <tr title="ID: {{ patient.id }}"
            id="patient-{{ patient.id }}"
            {% if not patient.active %}
              class="disabled"
            {% endif %}
          onclick="location.href='/patient/file/{{ patient.id }}'"
        >
          <td><i class="bi-gender-male"></i></td>
          <td>
            <strong>{{ patient.names.first.lastname | upper }}</strong>{% if patient.title %}, <i>{{ patient.title }}</i>{% endif %}
          </td>
          <td>{{ patient.names.first.firstname }}</td>
          <td>{{ patient.birth_date | date:"d.m.Y" }}</td>
          <td>{{ patient.phone }}</td> {# TODO: add TAPI/phonecall link functionality here #}
          <td><a title="{{ patient.email }}" href="mailto:{{ patient.email }}">{{ patient.email | ljust:10}}</a></td>
        </tr>
      {% endfor %}
      </tbody>
    </table>
  </div>
{% endblock %}