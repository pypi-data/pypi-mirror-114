(self.webpackChunk_deathbeds_ipydrawio=self.webpackChunk_deathbeds_ipydrawio||[]).push([[527],{527:(t,e,i)=>{"use strict";i.r(e),i.d(e,{MIME_CLASS:()=>d,extensions:()=>l,default:()=>h,RenderedDiagram:()=>m});var n=i(615),a=i(656),s=i(749),o=i(649),r=i(271);const d="jp-DiagramMedia",l=a.WY.map((t=>{const{name:e}=t;return{id:`${s.NS}:rendermime-${e}`,name:e,rendererFactory:{safe:!0,mimeTypes:[t.mimetype],createRenderer:e=>(s.eM&&console.error("creating renderer"),new m(Object.assign(Object.assign({},e),{format:t})))},dataType:"string"}})),h=l;class m extends n.Panel{constructor(t){super(),this.initialized=!1,this.addClass(d),this.format=t.format,this.content=new o.S({adapter:{format:()=>this.format,urlParams:()=>{var t,e,i;let n={};const{manager:a}=m;null!=a&&(n=(null===(e=null===(t=a.settings)||void 0===t?void 0:t.composite)||void 0===e?void 0:e.drawioUrlParams)||{});const s=((null===(i=this.lastModel)||void 0===i?void 0:i.metadata)[this.format.mimetype]||{}).drawioUrlParams;return null!=s&&(n=Object.assign(Object.assign({},n),s)),n},drawioUrl:()=>r.DRAWIO_URL,saveNeedsExport:()=>{var t;return(null===(t=this.format)||void 0===t?void 0:t.isTransformed)||!0},drawioConfig:()=>{var t,e,i;let n={};const{manager:a}=m;null!=a&&(n=(null===(e=null===(t=a.settings)||void 0===t?void 0:t.composite)||void 0===e?void 0:e.drawioConfig)||{});const s=((null===(i=this.lastModel)||void 0===i?void 0:i.metadata)[this.format.mimetype]||{}).drawioConfig;return null!=s&&(n=Object.assign(Object.assign({},n),s)),n},toXML:()=>{var t;return null==this.lastModel?"":(null===(t=this.lastModel.data[this.format.mimetype])||void 0===t?void 0:t.toString())||""},fromXML:()=>{}}}),this.layout.addWidget(this.content)}onAfterShow(){this.initialized||(this.content.onAfterShow(),this.initialized=!0),this.content.onContentChanged()}async renderModel(t){const e=t.metadata||{},i=e?e[this.format.mimetype]:null;if(null!=i){const t=i.height?`${i.height}`:"";this.node.style.minHeight=t}this.lastModel=t,this.initialized?this.content.onContentChanged():this.isVisible?this.onAfterShow():setTimeout((()=>this.onAfterShow()),100)}}}}]);