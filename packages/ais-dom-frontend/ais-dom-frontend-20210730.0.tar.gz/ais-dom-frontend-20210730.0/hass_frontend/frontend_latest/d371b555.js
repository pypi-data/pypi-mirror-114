(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[66054],{55424:(e,r,t)=>{"use strict";t.d(r,{Bm:()=>s,o1:()=>n,iK:()=>a,rl:()=>o,xZ:()=>i,ZC:()=>y,_Z:()=>p,Jj:()=>c});const s=()=>({stat_energy_from:"",stat_cost:null,entity_energy_from:null,entity_energy_price:null,number_energy_price:null}),n=()=>({stat_energy_to:"",stat_compensation:null,entity_energy_to:null,entity_energy_price:null,number_energy_price:null}),a=()=>({type:"grid",flow_from:[],flow_to:[],cost_adjustment_day:0}),o=()=>({type:"solar",stat_energy_from:"",config_entry_solar_forecast:null}),i=e=>e.callWS({type:"energy/info"}),y=e=>e.callWS({type:"energy/get_prefs"}),p=(e,r)=>e.callWS({type:"energy/save_prefs",...r}),c=e=>{const r={};for(const t of e.energy_sources)t.type in r?r[t.type].push(t):r[t.type]=[t];return r}},66054:(e,r,t)=>{"use strict";t.r(r),t.d(r,{EnergyStrategy:()=>n});var s=t(55424);class n{static async generateView(e){const r=e.hass,n={cards:[]};let a;try{a=await(0,s.ZC)(r)}catch(e){return"not_found"===e.code?(async()=>(await Promise.all([t.e(78161),t.e(88985),t.e(91657),t.e(33762),t.e(28432),t.e(10363)]).then(t.bind(t,55158)),{type:"panel",cards:[{type:"custom:energy-setup-wizard-card"}]}))():(n.cards.push({type:"markdown",content:`An error occured while fetching your energy preferences: ${e.message}.`}),n)}n.type="sidebar";const o=a.energy_sources.find((e=>"grid"===e.type)),i=o&&o.flow_to.length,y=a.energy_sources.some((e=>"solar"===e.type));return o&&n.cards.push({title:"Energy usage",type:"energy-usage-graph",prefs:a}),y&&n.cards.push({title:"Solar production",type:"energy-solar-graph",prefs:a}),o&&n.cards.push({title:"Energy distribution",type:"energy-distribution",prefs:a,view_layout:{position:"sidebar"}}),(o||y)&&n.cards.push({title:"Sources",type:"energy-sources-table",prefs:a}),y&&n.cards.push({type:"energy-solar-consumed-gauge",prefs:a,view_layout:{position:"sidebar"}}),i&&n.cards.push({type:"energy-grid-neutrality-gauge",prefs:a,view_layout:{position:"sidebar"}}),o&&n.cards.push({type:"energy-carbon-consumed-gauge",prefs:a,view_layout:{position:"sidebar"}}),a.device_consumption.length&&n.cards.push({title:"Monitor individual devices",type:"energy-devices-graph",prefs:a}),n}}}}]);
//# sourceMappingURL=d371b555.js.map