{"version":3,"sources":["reviewReplyModelTests.es6.js"],"names":[],"mappings":"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","file":"reviewReplyModelTests.js","sourcesContent":["suite('rb/resources/models/ReviewReply', function() {\n    let parentObject;\n    let model;\n\n    beforeEach(function() {\n        parentObject = new RB.BaseResource({\n            'public': true,\n            links: {\n                replies: {\n                    href: '/api/foos/replies/',\n                },\n            },\n        });\n\n        model = new RB.ReviewReply({\n            parentObject: parentObject,\n        });\n    });\n\n    describe('destroy', function() {\n        let callbacks;\n\n        beforeEach(function() {\n            callbacks = {\n                ready: function() {},\n                error: function() {},\n            };\n\n            spyOn(Backbone.Model.prototype, 'destroy')\n                .and.callFake(options => {\n                    if (options && _.isFunction(options.success)) {\n                        options.success();\n                    }\n                });\n            spyOn(model, '_retrieveDraft').and.callThrough();\n            spyOn(parentObject, 'ready')\n                .and.callFake((options, context) => {\n                    if (options && _.isFunction(options.ready)) {\n                        options.ready.call(context);\n                    }\n                });\n            spyOn(callbacks, 'ready');\n            spyOn(callbacks, 'error');\n        });\n\n        describe('With isNew=true', function() {\n            beforeEach(function() {\n                expect(model.isNew()).toBe(true);\n                expect(model.get('loaded')).toBe(false);\n\n                spyOn(Backbone.Model.prototype, 'fetch')\n                    .and.callFake(options => {\n                        if (options && _.isFunction(options.success)) {\n                            options.error(model, {\n                                status: 404,\n                            });\n                        }\n                    });\n            });\n\n            it('With callbacks', function() {\n                model.destroy(callbacks);\n\n                expect(model.isNew()).toBe(true);\n                expect(model.get('loaded')).toBe(false);\n\n                expect(parentObject.ready).toHaveBeenCalled();\n                expect(model._retrieveDraft).toHaveBeenCalled();\n                expect(Backbone.Model.prototype.fetch).toHaveBeenCalled();\n                expect(Backbone.Model.prototype.destroy).toHaveBeenCalled();\n            });\n        });\n\n        describe('With isNew=false', function() {\n            beforeEach(function() {\n                model.set({\n                    id: 123,\n                    loaded: true,\n                });\n\n                spyOn(Backbone.Model.prototype, 'fetch');\n            });\n\n            it('With callbacks', function() {\n                model.destroy(callbacks);\n\n                expect(parentObject.ready).toHaveBeenCalled();\n                expect(model._retrieveDraft).not.toHaveBeenCalled();\n                expect(Backbone.Model.prototype.fetch).not.toHaveBeenCalled();\n                expect(Backbone.Model.prototype.destroy).toHaveBeenCalled();\n            });\n        });\n    });\n\n    describe('discardIfEmpty', function() {\n        let callbacks;\n\n        beforeEach(function() {\n            callbacks = {\n                success: function() {},\n                error: function() {},\n            };\n\n            spyOn(model, 'destroy')\n                .and.callFake(options => {\n                    if (options && _.isFunction(options.success)) {\n                        options.success();\n                    }\n                });\n            spyOn(parentObject, 'ready')\n                .and.callFake((options, context) => {\n                    if (options && _.isFunction(options.ready)) {\n                        options.ready.call(context);\n                    }\n                });\n            spyOn(model, 'ready')\n                .and.callFake((options, context) => {\n                    if (options && _.isFunction(options.ready)) {\n                        options.ready.call(context);\n                    }\n                });\n            spyOn(callbacks, 'success');\n            spyOn(callbacks, 'error');\n        });\n\n        it('With isNew=true', function() {\n            expect(model.isNew()).toBe(true);\n            expect(model.get('loaded')).toBe(false);\n\n            model.discardIfEmpty(callbacks);\n\n            expect(model.destroy).not.toHaveBeenCalled();\n        });\n\n        describe('With isNew=false', function() {\n            const commentsData = {};\n\n            beforeEach(function() {\n                model.set({\n                    id: 123,\n                    loaded: true,\n                    links: {\n                        self: {\n                            href: '/api/foos/replies/123/',\n                        },\n                        diff_comments: {\n                            href: '/api/diff-comments/',\n                        },\n                        screenshot_comments: {\n                            href: '/api/screenshot-comments/',\n                        },\n                        file_attachment_comments: {\n                            href: '/api/file-attachment-comments/',\n                        },\n                        general_comments: {\n                            href: '/api/general-comments/',\n                        },\n                    },\n                });\n\n                spyOn(RB, 'apiCall').and.callFake(options => {\n                    const links = model.get('links');\n                    const data = {};\n                    const key = _.find(\n                        RB.ReviewReply.prototype.COMMENT_LINK_NAMES,\n                        name => (options.url === links[name].href));\n\n                    if (key) {\n                        data[key] = commentsData[key] || [];\n                        options.success(data);\n                    } else {\n                        options.error({\n                            status: 404,\n                        });\n                    }\n                });\n                spyOn(Backbone.Model.prototype, 'fetch')\n                    .and.callFake(options => {\n                        if (options && _.isFunction(options.success)) {\n                            options.success();\n                        }\n                    });\n            });\n\n            it('With no comments or body replies', function() {\n                model.discardIfEmpty(callbacks);\n\n                expect(model.destroy).toHaveBeenCalled();\n                expect(callbacks.success).toHaveBeenCalledWith(true);\n            });\n\n            it('With bodyTop', function() {\n                model.set({\n                    bodyTop: 'hi',\n                });\n                model.discardIfEmpty(callbacks);\n\n                expect(model.destroy).not.toHaveBeenCalled();\n                expect(callbacks.success).toHaveBeenCalledWith(false);\n            });\n\n            it('With bodyBottom', function() {\n                model.set({\n                    bodyBottom: 'hi',\n                });\n                model.discardIfEmpty(callbacks);\n\n                expect(model.destroy).not.toHaveBeenCalled();\n                expect(callbacks.success).toHaveBeenCalledWith(false);\n            });\n\n            it('With diff comment', function() {\n                commentsData.diff_comments = [{\n                    id: 1,\n                }];\n\n                model.discardIfEmpty(callbacks);\n\n                expect(model.destroy).not.toHaveBeenCalled();\n                expect(callbacks.success).toHaveBeenCalledWith(false);\n            });\n\n            it('With screenshot comment', function() {\n                commentsData.screenshot_comments = [{\n                    id: 1,\n                }];\n\n                model.discardIfEmpty(callbacks);\n\n                expect(model.destroy).not.toHaveBeenCalled();\n                expect(callbacks.success).toHaveBeenCalledWith(false);\n            });\n\n            it('With file attachment comment', function() {\n                commentsData.file_attachment_comments = [{\n                    id: 1,\n                }];\n\n                model.discardIfEmpty(callbacks);\n\n                expect(model.destroy).not.toHaveBeenCalled();\n                expect(callbacks.success).toHaveBeenCalledWith(false);\n            });\n\n            it('With general comment', function() {\n                commentsData.general_comments = [{\n                    id: 1,\n                }];\n\n                model.discardIfEmpty(callbacks);\n\n                expect(model.destroy).not.toHaveBeenCalled();\n                expect(callbacks.success).toHaveBeenCalledWith(false);\n            });\n        });\n    });\n\n    describe('ready', function() {\n        let callbacks;\n\n        beforeEach(function() {\n            callbacks = {\n                ready: function() {},\n                error: function() {},\n            };\n\n            spyOn(parentObject, 'ready')\n                .and.callFake((options, context) => {\n                    if (options && _.isFunction(options.ready)) {\n                        options.ready.call(context);\n                    }\n                });\n            spyOn(callbacks, 'ready');\n            spyOn(callbacks, 'error');\n        });\n\n        describe('With isNew=true', function() {\n            beforeEach(function() {\n                expect(model.isNew()).toBe(true);\n                expect(model.get('loaded')).toBe(false);\n\n                spyOn(Backbone.Model.prototype, 'fetch')\n                    .and.callFake(options => {\n                        if (options && _.isFunction(options.success)) {\n                            options.success();\n                        }\n                    });\n                spyOn(model, '_retrieveDraft')\n                    .and.callFake((options, context) => {\n                        if (options && _.isFunction(options.ready)) {\n                            options.ready.call(context);\n                        }\n                    });\n            });\n\n            it('With callbacks', function() {\n                model.ready(callbacks);\n\n                expect(parentObject.ready).toHaveBeenCalled();\n                expect(model._retrieveDraft).toHaveBeenCalled();\n                expect(callbacks.ready).toHaveBeenCalled();\n            });\n        });\n\n        describe('With isNew=false', function() {\n            beforeEach(function() {\n                model.set({\n                    id: 123,\n                });\n\n                spyOn(Backbone.Model.prototype, 'fetch')\n                    .and.callFake(options => {\n                        if (options && _.isFunction(options.success)) {\n                            options.success();\n                        }\n                    });\n                spyOn(model, '_retrieveDraft')\n                    .and.callFake((options, context) => {\n                        if (options && _.isFunction(options.ready)) {\n                            options.ready.call(context);\n                        }\n                    });\n            });\n\n            it('With callbacks', function() {\n                model.ready(callbacks);\n\n                expect(parentObject.ready).toHaveBeenCalled();\n                expect(model._retrieveDraft).not.toHaveBeenCalled();\n                expect(callbacks.ready).toHaveBeenCalled();\n            });\n        });\n\n        it('After destruction', function() {\n            spyOn(model, '_retrieveDraft').and.callThrough();\n\n            spyOn(Backbone.Model.prototype, 'fetch').and.callFake(options => {\n                model.set({\n                    id: 123,\n                    links: {\n                        self: {\n                            href: '/api/foos/replies/123/',\n                        },\n                    },\n                    loaded: true,\n                });\n\n                options.success();\n            });\n\n            spyOn(Backbone.Model.prototype, 'destroy').and.callFake(\n                options => options.success());\n\n            expect(model.isNew()).toBe(true);\n            expect(model.get('loaded')).toBe(false);\n            expect(model._needDraft).toBe(undefined);\n\n            /* Make our initial ready call. */\n            model.ready(callbacks);\n\n            expect(parentObject.ready).toHaveBeenCalled();\n            expect(model._retrieveDraft).toHaveBeenCalled();\n            expect(Backbone.Model.prototype.fetch).toHaveBeenCalled();\n            expect(callbacks.ready).toHaveBeenCalled();\n            expect(model.isNew()).toBe(false);\n            expect(model.get('loaded')).toBe(true);\n            expect(model._needDraft).toBe(false);\n\n            /* We have a loaded object. Reset it. */\n            model.destroy(callbacks);\n\n            expect(model.isNew()).toBe(true);\n            expect(model.get('loaded')).toBe(false);\n            expect(model._needDraft).toBe(true);\n\n            parentObject.ready.calls.reset();\n            model._retrieveDraft.calls.reset();\n            callbacks.ready.calls.reset();\n\n            /* Now that it's destroyed, try to fetch it again. */\n            model.ready(callbacks);\n\n            expect(model._retrieveDraft).toHaveBeenCalled();\n            expect(Backbone.Model.prototype.fetch).toHaveBeenCalled();\n            expect(callbacks.ready).toHaveBeenCalled();\n            expect(model._needDraft).toBe(false);\n        });\n    });\n\n    describe('parse', function() {\n        beforeEach(function() {\n            model.rspNamespace = 'my_reply';\n        });\n\n        it('API payloads', function() {\n            var data = model.parse({\n                stat: 'ok',\n                my_reply: {\n                    id: 42,\n                    body_top: 'foo',\n                    body_bottom: 'bar',\n                    'public': false,\n                    body_top_text_type: 'markdown',\n                    body_bottom_text_type: 'plain',\n                },\n            });\n\n            expect(data).not.toBe(undefined);\n            expect(data.id).toBe(42);\n            expect(data.bodyTop).toBe('foo');\n            expect(data.bodyBottom).toBe('bar');\n            expect(data.public).toBe(false);\n            expect(data.bodyTopRichText).toBe(true);\n            expect(data.bodyBottomRichText).toBe(false);\n        });\n    });\n\n    describe('toJSON', function() {\n        describe('bodyTop field', function() {\n            it('With value', function() {\n                model.set('bodyTop', 'foo');\n                const data = model.toJSON();\n                expect(data.body_top).toBe('foo');\n            });\n        });\n\n        describe('bodyBottom field', function() {\n            it('With value', function() {\n                model.set('bodyBottom', 'foo');\n                const data = model.toJSON();\n                expect(data.body_bottom).toBe('foo');\n            });\n        });\n\n        describe('bodyTopRichText field', function() {\n            it('With true', function() {\n                model.set('bodyTopRichText', true);\n                const data = model.toJSON();\n                expect(data.body_top_text_type).toBe('markdown');\n            });\n\n            it('With false', function() {\n                model.set('bodyTopRichText', false);\n                const data = model.toJSON();\n                expect(data.body_top_text_type).toBe('plain');\n            });\n        });\n\n        describe('bodyBottomRichText field', function() {\n            it('With true', function() {\n                model.set('bodyBottomRichText', true);\n                const data = model.toJSON();\n                expect(data.body_bottom_text_type).toBe('markdown');\n            });\n\n            it('With false', function() {\n                model.set('bodyBottomRichText', false);\n                const data = model.toJSON();\n                expect(data.body_bottom_text_type).toBe('plain');\n            });\n        });\n\n        describe('force_text_type field', function() {\n            it('With value', function() {\n                model.set('forceTextType', 'html');\n                const data = model.toJSON();\n                expect(data.force_text_type).toBe('html');\n            });\n\n            it('Without value', function() {\n                const data = model.toJSON();\n                expect(data.force_text_type).toBe(undefined);\n            });\n        });\n\n        describe('include_text_types field', function() {\n            it('With value', function() {\n                model.set('includeTextTypes', 'html');\n                const data = model.toJSON();\n                expect(data.include_text_types).toBe('html');\n            });\n\n            it('Without value', function() {\n                const data = model.toJSON();\n                expect(data.include_text_types).toBe(undefined);\n            });\n        });\n\n        describe('public field', function() {\n            it('With value', function() {\n                model.set('public', true);\n                const data = model.toJSON();\n                expect(data.public).toBe(true);\n            });\n        });\n    });\n});\n"]}