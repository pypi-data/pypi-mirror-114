{"version":3,"sources":["menuViewTests.es6.js"],"names":[],"mappings":"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","file":"menuViewTests.js","sourcesContent":["suite('rb/ui/views/MenuView', function() {\n    const ANIMATE_WAIT_MS = 300;\n\n    describe('Rendering', function() {\n        it('Standard menus', function() {\n            const view = new RB.MenuView();\n            view.render().$el.appendTo($testsScratch);\n\n            expect(view.el.id).toBe(view.id);\n            expect(view.el.id).toMatch(/^__rb-menu\\d+/);\n            expect(view.el).toHaveClass('rb-c-menu');\n            expect(view.el).not.toHaveClass('rb-c-button-group');\n            expect(view.el).not.toHaveClass('-is-vertical');\n            expect(view.el.tabIndex).toBe(-1);\n            expect(view.$el.attr('role')).toBe('menu');\n            expect(view.$el.css('display')).toBe('block');\n            expect(view.$el.css('visibility')).toBe('hidden');\n            expect(view.$el.css('opacity')).toBe('0');\n        });\n\n        it('Button menus', function() {\n            const view = new RB.MenuView({\n                type: RB.MenuView.TYPE_BUTTON_MENU,\n            });\n            view.render().$el.appendTo($testsScratch);\n\n            expect(view.el.id).toBe(view.id);\n            expect(view.el.id).toMatch(/^__rb-menu\\d+/);\n            expect(view.el).toHaveClass('rb-c-menu');\n            expect(view.el).toHaveClass('rb-c-button-group');\n            expect(view.el).toHaveClass('-is-vertical');\n            expect(view.el.tabIndex).toBe(-1);\n            expect(view.$el.attr('role')).toBe('menu');\n            expect(view.$el.css('display')).toBe('block');\n            expect(view.$el.css('visibility')).toBe('hidden');\n            expect(view.$el.css('opacity')).toBe('0');\n        });\n\n        it('With ariaLabelledBy', function() {\n            const view = new RB.MenuView({\n                type: RB.MenuView.TYPE_BUTTON_MENU,\n                ariaLabelledBy: 'abc123',\n                ariaLabel: 'unused label',\n            });\n            view.render().$el.appendTo($testsScratch);\n\n            expect(view.$el.attr('aria-label')).toBeUndefined();\n            expect(view.$el.attr('aria-labelledby')).toBe('abc123');\n        });\n\n        it('With ariaLabel', function() {\n            const view = new RB.MenuView({\n                type: RB.MenuView.TYPE_BUTTON_MENU,\n                ariaLabel: 'ARIA label',\n            });\n            view.render();\n\n            expect(view.$el.attr('aria-label')).toBe('ARIA label');\n            expect(view.$el.attr('aria-labelledby')).toBeUndefined();\n        });\n\n        it('With $controller', function() {\n            const $controller = $('<div>');\n\n            const view = new RB.MenuView({\n                type: RB.MenuView.TYPE_BUTTON_MENU,\n                $controller: $controller,\n            });\n            view.render();\n\n            expect(view.el.id).toBe(view.id);\n            expect(view.el.id).toMatch(/^__rb-menu\\d+/);\n            expect($controller.attr('aria-controls')).toBe(view.el.id);\n            expect($controller.attr('aria-expanded')).toBe('false');\n            expect($controller.attr('aria-haspopup')).toBe('true');\n        });\n    });\n\n    describe('Methods', function() {\n        describe('addItem', function() {\n            it('For standard menus', function() {\n                const view = new RB.MenuView();\n                view.render();\n\n                const $menuItem = view.addItem();\n                const menuItem = $menuItem[0];\n\n                expect(menuItem.tagName).toBe('DIV');\n                expect(menuItem.tabIndex).toBe(-1);\n                expect(menuItem).toHaveClass('rb-c-menu__item');\n                expect(menuItem).not.toHaveClass('rb-c-button');\n                expect($menuItem.attr('role')).toBe('menuitem');\n\n                const $children = view.$el.children();\n                expect($children.length).toBe(1);\n                expect($children[0]).toBe(menuItem);\n            });\n\n            it('For button menus', function() {\n                const view = new RB.MenuView({\n                    type: RB.MenuView.TYPE_BUTTON_MENU,\n                });\n                view.render();\n\n                const $menuItem = view.addItem();\n                const menuItem = $menuItem[0];\n\n                expect(menuItem.tagName).toBe('BUTTON');\n                expect(menuItem.tabIndex).toBe(-1);\n                expect(menuItem).toHaveClass('rb-c-menu__item');\n                expect(menuItem).toHaveClass('rb-c-button');\n                expect($menuItem.attr('type')).toBe('button');\n                expect($menuItem.attr('role')).toBe('menuitem');\n\n                const $children = view.$el.children();\n                expect($children.length).toBe(1);\n                expect($children[0]).toBe(menuItem);\n            });\n\n            it('With text', function() {\n                const view = new RB.MenuView({\n                    type: RB.MenuView.TYPE_BUTTON_MENU,\n                });\n                view.render();\n\n                const $menuItem = view.addItem({\n                    text: 'This is a test',\n                });\n                expect($menuItem.text()).toBe('This is a test');\n            });\n        });\n\n        describe('open', function() {\n            let $controller;\n            let view;\n\n            beforeEach(function() {\n                $controller = $('<div>')\n                    .appendTo($testsScratch);\n\n                view = new RB.MenuView({\n                    $controller: $controller,\n                });\n                view.render().$el.appendTo($testsScratch);\n\n                expect(view.$el.css('display')).toBe('block');\n                expect(view.$el.css('visibility')).toBe('hidden');\n                expect(view.$el.css('opacity')).toBe('0');\n\n                spyOn(view, 'trigger').and.callThrough();\n            });\n\n            it('Default behavior', function(done) {\n                view.open();\n\n                _.delay(() => {\n                    expect(view.isOpen).toBeTrue();\n                    expect(view.el).toHaveClass('-is-open');\n                    expect(view.el).not.toHaveClass('js-no-animation');\n                    expect(view.$el.css('display')).toBe('block');\n                    expect(view.$el.css('visibility')).toBe('visible');\n                    expect(view.$el.css('opacity')).toBe('1');\n                    expect($controller.attr('aria-expanded')).toBe('true');\n\n                    done();\n                }, ANIMATE_WAIT_MS);\n            });\n\n            it('With animate=false', function(done) {\n                view.open({\n                    animate: false,\n                });\n\n                expect(view.isOpen).toBeTrue();\n                expect(view.el).toHaveClass('-is-open');\n                expect(view.el).toHaveClass('js-no-animation');\n                expect(view.$el.css('display')).toBe('block');\n                expect(view.$el.css('visibility')).toBe('visible');\n                expect(view.$el.css('opacity')).toBe('1');\n                expect(view.trigger).toHaveBeenCalledWith('opening');\n                expect(view.trigger).toHaveBeenCalledWith('opened');\n                expect($controller.attr('aria-expanded')).toBe('true');\n\n                _.defer(() => {\n                    expect(view.el).not.toHaveClass('js-no-animation');\n                    done();\n                });\n            });\n        });\n\n        describe('close', function() {\n            let $controller;\n            let view;\n\n            beforeEach(function() {\n                $controller = $('<div aria-expanded=\"true\">')\n                    .appendTo($testsScratch);\n\n                view = new RB.MenuView({\n                    $controller: $controller,\n                });\n                view.render().$el.appendTo($testsScratch);\n\n                view.isOpen = true;\n                view.$el.addClass('-is-open');\n\n                expect(view.$el.css('display')).toBe('block');\n                expect(view.$el.css('visibility')).toBe('visible');\n                expect(view.$el.css('opacity')).toBe('1');\n\n                spyOn(view, 'trigger').and.callThrough();\n            });\n\n            it('Default behavior', function(done) {\n                view.close();\n\n                _.delay(() => {\n                    expect(view.isOpen).toBeFalse();\n                    expect(view.el).not.toHaveClass('-is-open');\n                    expect(view.el).not.toHaveClass('js-no-animation');\n                    expect(view.$el.css('display')).toBe('block');\n                    expect(view.$el.css('visibility')).toBe('hidden');\n                    expect(view.$el.css('opacity')).toBe('0');\n                    expect($controller.attr('aria-expanded')).toBe('false');\n                    done();\n                }, ANIMATE_WAIT_MS);\n            });\n\n            it('With animate=false', function(done) {\n                view.close({\n                    animate: false,\n                });\n\n                expect(view.isOpen).toBeFalse();\n                expect(view.el).toHaveClass('js-no-animation');\n                expect(view.el).not.toHaveClass('-is-open');\n                expect(view.$el.css('display')).toBe('block');\n                expect(view.$el.css('visibility')).toBe('hidden');\n                expect(view.$el.css('opacity')).toBe('0');\n                expect(view.trigger).toHaveBeenCalledWith('closing');\n                expect(view.trigger).toHaveBeenCalledWith('closed');\n                expect($controller.attr('aria-expanded')).toBe('false');\n\n                _.defer(() => {\n                    expect(view.el).not.toHaveClass('js-no-animation');\n                    done();\n                });\n            });\n        });\n\n        it('focusFirstItem', function() {\n            const view = new RB.MenuView();\n            view.render().$el.appendTo($testsScratch);\n            view.open({\n                animate: false,\n            });\n\n            const itemEl = view.addItem()[0];\n            view.addItem();\n            view.addItem();\n\n            /*\n             * We'll be spying on focus() instead of checking the resulting\n             * focused element in order to work around issues with the\n             * browser's developer tools console having focus during unit\n             * tests, causing our element to never actually gain focus.\n             */\n            spyOn(itemEl, 'focus');\n\n            view.focusFirstItem();\n\n            expect(itemEl.focus).toHaveBeenCalled();\n            expect(view._activeItemIndex).toBe(0);\n        });\n\n        it('focusLastItem', function() {\n            const view = new RB.MenuView();\n            view.render().$el.appendTo($testsScratch);\n            view.open({\n                animate: false,\n            });\n\n            view.addItem();\n            view.addItem();\n            const itemEl = view.addItem()[0];\n\n            /*\n             * We'll be spying on focus() instead of checking the resulting\n             * focused element in order to work around issues with the\n             * browser's developer tools console having focus during unit\n             * tests, causing our element to never actually gain focus.\n             */\n            spyOn(itemEl, 'focus');\n\n            view.focusLastItem();\n\n            expect(itemEl.focus).toHaveBeenCalled();\n            expect(view._activeItemIndex).toBe(2);\n        });\n    });\n\n    describe('Keyboard Accessibility', function() {\n        let $controller;\n        let $item1;\n        let $item2;\n        let $item3;\n        let view;\n\n        function sendKeyDown(keyCode) {\n            view.$el.trigger($.Event('keydown', {\n                which: keyCode,\n            }));\n        }\n\n        beforeEach(function() {\n            $controller = $('<div>')\n                .appendTo($testsScratch);\n\n            view = new RB.MenuView({\n                $controller: $controller,\n            });\n            view.render().$el.appendTo($testsScratch);\n\n            $item1 = view.addItem();\n            $item2 = view.addItem();\n            $item3 = view.addItem();\n\n            view.open({\n                animate: false,\n            });\n            view._focusItem(1);\n\n            spyOn(view, 'trigger').and.callThrough();\n        });\n\n        it('Enter key activates item', function() {\n            const spy = jasmine.createSpy();\n\n            $item2.on('click', spy);\n\n            sendKeyDown($.ui.keyCode.ENTER);\n\n            expect(spy).toHaveBeenCalled();\n        });\n\n        it('Escape key closes menu', function() {\n            spyOn($controller[0], 'focus');\n\n            sendKeyDown($.ui.keyCode.ESCAPE);\n\n            expect(view.el).not.toHaveClass('-is-open');\n            expect($controller[0].focus).toHaveBeenCalled();\n        });\n\n        it('Tab key closes menu', function() {\n            spyOn($controller[0], 'focus');\n\n            sendKeyDown($.ui.keyCode.TAB);\n\n            expect(view.el).not.toHaveClass('-is-open');\n            expect($controller[0].focus).toHaveBeenCalled();\n        });\n\n        it('Up key moves focus up', function() {\n            spyOn(view, '_focusItem').and.callThrough();\n\n            sendKeyDown($.ui.keyCode.UP);\n            expect(view._focusItem).toHaveBeenCalledWith(0);\n\n            /* It should now wrap. */\n            sendKeyDown($.ui.keyCode.UP);\n            expect(view._focusItem).toHaveBeenCalledWith(2);\n        });\n\n        it('Down key moves focus up', function() {\n            spyOn(view, '_focusItem').and.callThrough();\n\n            sendKeyDown($.ui.keyCode.DOWN);\n            expect(view._focusItem).toHaveBeenCalledWith(2);\n\n            /* It should now wrap. */\n            sendKeyDown($.ui.keyCode.DOWN);\n            expect(view._focusItem).toHaveBeenCalledWith(0);\n        });\n\n        it('Home key moves focus to top', function() {\n            spyOn(view, '_focusItem').and.callThrough();\n\n            sendKeyDown($.ui.keyCode.HOME);\n            expect(view._focusItem).toHaveBeenCalledWith(0);\n        });\n\n        it('Page Up key moves focus to top', function() {\n            spyOn(view, '_focusItem').and.callThrough();\n\n            sendKeyDown($.ui.keyCode.PAGE_UP);\n            expect(view._focusItem).toHaveBeenCalledWith(0);\n        });\n\n        it('End key moves focus to bottom', function() {\n            spyOn(view, '_focusItem').and.callThrough();\n\n            sendKeyDown($.ui.keyCode.END);\n            expect(view._focusItem).toHaveBeenCalledWith(2);\n        });\n\n        it('Page Down key moves focus to bottom', function() {\n            spyOn(view, '_focusItem').and.callThrough();\n\n            sendKeyDown($.ui.keyCode.PAGE_DOWN);\n            expect(view._focusItem).toHaveBeenCalledWith(2);\n        });\n    });\n});\n"]}