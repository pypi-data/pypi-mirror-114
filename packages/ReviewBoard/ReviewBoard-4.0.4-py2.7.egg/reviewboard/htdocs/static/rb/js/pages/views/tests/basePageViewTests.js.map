{"version":3,"sources":["basePageViewTests.es6.js"],"names":[],"mappings":"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","file":"basePageViewTests.js","sourcesContent":["suite('rb/pages/views/PageView', function() {\n    const pageSidebarTemplate = dedent`\n        <div class=\"rb-c-page-sidebar test-page-sidebar\">\n         <div class=\"rb-c-page-sidebar__panes\">\n          <div class=\"rb-c-page-sidebar__pane -is-shown\">\n           <div class=\"rb-c-page-sidebar__pane-content\"></div>\n          </div>\n         </div>\n        </div>\n    `;\n    let $body;\n    let $headerBar;\n    let $pageSidebar;\n    let $pageContainer;\n    let $pageContent;\n    let pageView;\n\n    beforeEach(function() {\n        $body = $('<div/>').appendTo($testsScratch);\n        $headerBar = $('<div/>').appendTo($body);\n        $pageContainer = $('<div/>').appendTo($body);\n        $pageContent = $('<div/>').appendTo($pageContainer);\n        $pageSidebar = $(pageSidebarTemplate).appendTo($body);\n\n        pageView = new RB.PageView({\n            $body: $body,\n            $headerBar: $headerBar,\n            $pageContainer: $pageContainer,\n            $pageContent: $pageContent,\n            $pageSidebar: $pageSidebar,\n        });\n    });\n\n    afterEach(function() {\n        pageView.remove();\n    });\n\n    describe('Rendering', function() {\n        it('Default state', function() {\n            expect(pageView.isPageRendered).toBe(false);\n\n            pageView.render();\n\n            expect(pageView.hasSidebar).toBe(false);\n            expect(pageView.isFullPage).toBe(false);\n            expect(pageView.isPageRendered).toBe(true);\n            expect(pageView.inMobileMode).toBe(false);\n            expect(pageView.headerView).not.toBe(null);\n            expect(pageView.$mainSidebar.length).toBe(1);\n            expect(pageView.$pageContainer.length).toBe(1);\n            expect(pageView.$pageContent.length).toBe(1);\n            expect(pageView._$pageSidebar.length).toBe(1);\n            expect(pageView._$pageSidebarPanes.length).toBe(1);\n            expect(pageView._$mainSidebarPane.length).toBe(1);\n        });\n\n        describe('With full-page-content', function() {\n            let $mainSidebarPane;\n\n            beforeEach(function() {\n                $pageContainer.css('display', 'none');\n                $mainSidebarPane = $pageSidebar.find('.-is-shown')\n                    .css('display', 'none');\n            });\n\n            it('Using body.-is-content-full-page', function() {\n                $body.addClass('-is-content-full-page');\n                pageView.render();\n\n                expect(pageView.isFullPage).toBe(true);\n                expect($mainSidebarPane.css('display')).toBe('block');\n                expect($pageContainer.css('display')).toBe('block');\n            });\n\n            it('Using legacy body.full-page-content', function() {\n                $body.addClass('full-page-content');\n                pageView.render();\n\n                expect(pageView.isFullPage).toBe(true);\n                expect($mainSidebarPane.css('display')).toBe('block');\n                expect($pageContainer.css('display')).toBe('block');\n            });\n        });\n\n        describe('With sidebar', function() {\n            it('Using body.-has-sidebar', function() {\n                $body.addClass('-has-sidebar');\n                pageView.render();\n\n                expect(pageView.hasSidebar).toBe(true);\n            });\n\n            it('Using legacy body.has-sidebar', function() {\n                $body.addClass('has-sidebar');\n                pageView.render();\n\n                expect(pageView.hasSidebar).toBe(true);\n            });\n        });\n    });\n\n    describe('Drawers', function() {\n        beforeEach(function() {\n            $body.addClass('-has-sidebar');\n        });\n\n        describe('Setting drawer', function() {\n            it('In mobile mode', function() {\n                pageView.render();\n                pageView.inMobileMode = true;\n                pageView.setDrawer(new RB.DrawerView());\n\n                expect($body.children('.rb-c-drawer').length).toBe(1);\n            });\n\n            it('In desktop mode', function() {\n                pageView.render();\n                pageView.inMobileMode = false;\n                pageView.setDrawer(new RB.DrawerView());\n\n                const $panes = $pageSidebar.children(\n                    '.rb-c-page-sidebar__panes');\n\n                expect($panes.children('.rb-c-drawer').length).toBe(1);\n            });\n        });\n\n        describe('State changes', function() {\n            let drawer;\n\n            beforeEach(function() {\n                drawer = new RB.DrawerView();\n                pageView.render();\n\n                spyOn(pageView, '_updateSize');\n                pageView.setDrawer(drawer);\n\n                expect(pageView._updateSize).not.toHaveBeenCalled();\n            });\n\n            it('Showing', function() {\n                drawer.show();\n                expect(pageView._updateSize).toHaveBeenCalled();\n            });\n\n            it('Hiding', function() {\n                drawer.show();\n                expect(pageView._updateSize).toHaveBeenCalled();\n            });\n        });\n    });\n\n    describe('Events', function() {\n        describe('mobileModeChanged', function() {\n            let eventHandler;\n\n            beforeEach(function() {\n                eventHandler = jasmine.createSpy('handler');\n\n                pageView.render();\n                pageView.on('inMobileModeChanged', eventHandler);\n\n                spyOn(pageView, '_updateSize');\n                spyOn(pageView, 'onMobileModeChanged');\n            });\n\n            it('To mobile mode', function() {\n                pageView.inMobileMode = false;\n                pageView.headerView.trigger('mobileModeChanged', true);\n\n                expect(pageView.inMobileMode).toBe(true);\n                expect(pageView._updateSize).toHaveBeenCalled();\n                expect(pageView.onMobileModeChanged)\n                    .toHaveBeenCalledWith(true);\n                expect(eventHandler).toHaveBeenCalledWith(true);\n            });\n\n            it('To desktop mode', function() {\n                pageView.inMobileMode = true;\n                pageView.headerView.trigger('mobileModeChanged', false);\n\n                expect(pageView.inMobileMode).toBe(false);\n                expect(pageView._updateSize).toHaveBeenCalled();\n                expect(pageView.onMobileModeChanged)\n                    .toHaveBeenCalledWith(false);\n                expect(eventHandler).toHaveBeenCalledWith(false);\n            });\n        });\n\n        describe('resize', function() {\n            beforeEach(function() {\n                pageView.render();\n\n                spyOn(pageView, '_updateSize').and.callThrough();\n                spyOn(pageView, 'onResize');\n\n                /* Force some heights and offsets. */\n                $pageContainer.css('height', 'auto');\n                $pageSidebar.css('height', 'auto');\n\n                spyOn(pageView.$window, 'height').and.callFake(() => 1000);\n                spyOn($pageContainer, 'offset').and.callFake(() => ({\n                    top: 20,\n                    left: 0,\n                }));\n                spyOn($pageSidebar, 'offset').and.callFake(() => ({\n                    top: 10,\n                    left: 0,\n                }));\n            });\n\n            describe('In mobile mode', function() {\n                beforeEach(function() {\n                    pageView.inMobileMode = true;\n                });\n\n                it('Default state', function() {\n                    pageView.$window.triggerHandler('resize');\n\n                    expect(pageView._updateSize).toHaveBeenCalled();\n                    expect($pageContainer[0].style.height).toBe('');\n                    expect($pageSidebar[0].style.height).toBe('');\n\n                    expect(pageView.onResize).toHaveBeenCalled();\n                });\n\n                describe('In full-page content mode', function() {\n                    let drawer;\n\n                    beforeEach(function() {\n                        pageView.isFullPage = true;\n\n                        drawer = new RB.DrawerView();\n\n                        /*\n                         * We're probably not running tests in actual mobile\n                         * mode, so the stylesheet setting a minimum height on\n                         * the drawer won't take effect. Instead, force one.\n                         */\n                        drawer.$el.outerHeight(300);\n                    });\n\n                    it('Without drawer', function() {\n                        pageView.$window.triggerHandler('resize');\n\n                        expect(pageView._updateSize).toHaveBeenCalled();\n                        expect($pageContainer[0].style.height).toBe('980px');\n                        expect($pageSidebar[0].style.height).toBe('');\n\n                        expect(pageView.onResize).toHaveBeenCalled();\n                    });\n\n                    it('With open drawer', function() {\n                        pageView.hasSidebar = true;\n                        pageView.setDrawer(drawer);\n\n                        drawer.show();\n                        pageView.$window.triggerHandler('resize');\n\n                        expect(pageView._updateSize).toHaveBeenCalled();\n                        expect($pageContainer[0].style.height).toBe('680px');\n                        expect($pageSidebar[0].style.height).toBe('');\n\n                        expect(pageView.onResize).toHaveBeenCalled();\n                    });\n\n                    it('With closed drawer', function() {\n                        pageView.hasSidebar = true;\n                        pageView.setDrawer(drawer);\n\n                        pageView.$window.triggerHandler('resize');\n\n                        expect(pageView._updateSize).toHaveBeenCalled();\n                        expect($pageContainer[0].style.height).toBe('980px');\n                        expect($pageSidebar[0].style.height).toBe('');\n\n                        expect(pageView.onResize).toHaveBeenCalled();\n                    });\n                });\n            });\n\n            describe('In desktop mode', function() {\n                beforeEach(function() {\n                    pageView.inMobileMode = false;\n                });\n\n                it('Default state', function() {\n                    pageView.$window.triggerHandler('resize');\n\n                    expect(pageView._updateSize).toHaveBeenCalled();\n                    expect($pageContainer[0].style.height).toBe('');\n                    expect($pageSidebar[0].style.height).toBe('');\n\n                    expect(pageView.onResize).toHaveBeenCalled();\n                });\n\n                it('In full-page content mode', function() {\n                    pageView.isFullPage = true;\n\n                    pageView.$window.triggerHandler('resize');\n\n                    expect(pageView._updateSize).toHaveBeenCalled();\n                    expect($pageContainer[0].style.height).toBe('980px');\n                    expect($pageSidebar[0].style.height).toBe('990px');\n\n                    expect(pageView.onResize).toHaveBeenCalled();\n                });\n            });\n        });\n    });\n});\n"]}