{"version":3,"sources":["changeFormPageView.es6.js"],"names":[],"mappings":";;AAAA;;;;;;AAMA,GAAG,KAAH,CAAS,kBAAT,GAA8B,GAAG,KAAH,CAAS,QAAT,CAAkB,MAAlB,CAAyB;AACnD;;;;;;;;;;;AAWA,cAZmD,sBAYxC,OAZwC,EAY/B;AAChB,WAAG,KAAH,CAAS,QAAT,CAAkB,SAAlB,CAA4B,UAA5B,CAAuC,IAAvC,CAA4C,IAA5C,EAAkD,OAAlD;;AAEA,aAAK,MAAL,GAAc,QAAQ,MAAtB;AACA,aAAK,QAAL,GAAgB,IAAhB;AACA,aAAK,gBAAL,GAAwB,EAAxB;AACH,KAlBkD;;;AAoBnD;;;;;AAKA,cAzBmD,wBAyBtC;AAAA;;AACT,WAAG,KAAH,CAAS,QAAT,CAAkB,SAAlB,CAA4B,UAA5B,CAAuC,IAAvC,CAA4C,IAA5C;;AAEA,gBAAQ,MAAR,CAAe,KAAK,gBAAL,CAAsB,MAAtB,KAAiC,CAAhD;;AAEA,aAAK,QAAL,GAAgB,IAAI,GAAG,QAAP,CAAgB;AAC5B,gBAAI,QAAM,KAAK,MAAX;AADwB,SAAhB,CAAhB;AAGA,aAAK,QAAL,CAAc,MAAd;;AAEA,aAAK,CAAL,CAAO,+BAAP,EAAwC,IAAxC,CAA6C,UAAC,CAAD,EAAI,EAAJ,EAAW;AACpD,gBAAM,cAAc,IAAI,GAAG,KAAH,CAAS,eAAb,CAA6B;AAC7C,wBAAQ,EAAE,EAAF,EAAM,IAAN,CAAW,QAAX;AADqC,aAA7B,CAApB;AAGA,gBAAM,kBAAkB,IAAI,GAAG,KAAH,CAAS,mBAAb,CAAiC;AACrD,oBAAI,EADiD;AAErD,uBAAO;AAF8C,aAAjC,CAAxB;AAIA,4BAAgB,UAAhB;;AAEA,kBAAK,gBAAL,CAAsB,IAAtB,CAA2B,eAA3B;;AAEA,kBAAK,QAAL,CACI,eADJ,EAEI,iBAFJ,EAGI;AAAA,uBAAM,MAAK,QAAL,CAAc,gBAAd,CAA+B,gBAAgB,GAA/C,CAAN;AAAA,aAHJ;AAIH,SAhBD;AAiBH;AApDkD,CAAzB,CAA9B","file":"changeFormPageView.js","sourcesContent":["/**\n * A view for managing the administration UI's database model change pages.\n *\n * This sets up the page to manage the configuration form and any inline\n * groups used for adding, modifying, or deleting related objects.\n */\nRB.Admin.ChangeFormPageView = RB.Admin.PageView.extend({\n    /**\n     * Initialize the view.\n     *\n     * Args:\n     *     options (object):\n     *         The options passed to the page.\n     *\n     * Option Args:\n     *     formID (string):\n     *         The element ID for the form.\n     */\n    initialize(options) {\n        RB.Admin.PageView.prototype.initialize.call(this, options);\n\n        this.formID = options.formID;\n        this.formView = null;\n        this.inlineGroupViews = [];\n    },\n\n    /**\n     * Render the page.\n     *\n     * This will set up the form and inline group management.\n     */\n    renderPage() {\n        RB.Admin.PageView.prototype.renderPage.call(this);\n\n        console.assert(this.inlineGroupViews.length === 0);\n\n        this.formView = new RB.FormView({\n            el: $(`#${this.formID}`),\n        });\n        this.formView.render();\n\n        this.$('.rb-c-admin-form-inline-group').each((i, el) => {\n            const inlineGroup = new RB.Admin.InlineFormGroup({\n                prefix: $(el).data('prefix'),\n            });\n            const inlineGroupView = new RB.Admin.InlineFormGroupView({\n                el: el,\n                model: inlineGroup,\n            });\n            inlineGroupView.renderPage();\n\n            this.inlineGroupViews.push(inlineGroupView);\n\n            this.listenTo(\n                inlineGroupView,\n                'inlineFormAdded',\n                () => this.formView.setupFormWidgets(inlineGroupView.$el));\n        });\n    },\n});\n"]}