{"version":3,"sources":["branchesView.es6.js"],"names":[],"mappings":";;AAAA;;;;;;;;AAQA,GAAG,YAAH,GAAkB,GAAG,cAAH,CAAkB,MAAlB,CAAyB;AACvC,aAAS,QAD8B;;AAGvC,kBAAc,GAAG,UAHsB;;AAKvC,YAAQ;AACJ,kBAAU;AADN,KAL+B;;AASvC;;;;;;;AAOA,YAAQ,kBAAW;AAAA;;AACf,WAAG,cAAH,CAAkB,SAAlB,CAA4B,MAA5B,CAAmC,KAAnC,CAAyC,IAAzC,EAA+C,SAA/C;;AAEA,aAAK,UAAL,CAAgB,IAAhB,CAAqB,kBAAU;AAC3B,gBAAI,OAAO,GAAP,CAAW,WAAX,CAAJ,EAA6B;AACzB,sBAAK,OAAL,CAAa,UAAb,EAAyB,MAAzB;AACH;AACJ,SAJD;;AAMA,eAAO,IAAP;AACH,KA1BsC;;AA4BvC;;;;;;;;;;AAUA,YAtCuC,oBAsC9B,MAtC8B,EAsCtB;AACb,WAAG,cAAH,CAAkB,SAAlB,CAA4B,QAA5B,CAAqC,KAArC,CAA2C,IAA3C,EAAiD,SAAjD;;AAEA,YAAI,KAAK,SAAL,IAAkB,OAAO,GAAP,CAAW,WAAX,CAAtB,EAA+C;AAC3C,iBAAK,OAAL,CAAa,UAAb,EAAyB,MAAzB;AACH;AACJ,KA5CsC;;;AA8CvC;;;;;AAKA,aAnDuC,uBAmD3B;AACR,YAAM,aAAa,KAAK,GAAL,CAAS,IAAT,CAAc,eAAd,CAAnB;AACA,aAAK,OAAL,CAAa,UAAb,EAAyB,KAAK,UAAL,CAAgB,MAAhB,CAAuB,UAAvB,CAAzB;AACH;AAtDsC,CAAzB,CAAlB","file":"branchesView.js","sourcesContent":["/**\n * A view for a collection of branches.\n *\n * This is presented as a ``<select>`` in the document.\n *\n * Users can listen to the \"selected\" event to know which branch is currently\n * chosen. This event will be triggered with the branch model as its argument.\n */\nRB.BranchesView = RB.CollectionView.extend({\n    tagName: 'select',\n\n    itemViewType: RB.BranchView,\n\n    events: {\n        'change': '_onChange',\n    },\n\n    /**\n     * Render the view.\n     *\n     * Returns:\n     *     RB.BranchesView:\n     *     This object, for chaining.\n     */\n    render: function() {\n        RB.CollectionView.prototype.render.apply(this, arguments);\n\n        this.collection.each(branch => {\n            if (branch.get('isDefault')) {\n                this.trigger('selected', branch);\n            }\n        });\n\n        return this;\n    },\n\n    /**\n     * Override for CollectionView._onAdded.\n     *\n     * If the newly-added branch is the default (for example, 'trunk' in SVN or\n     * 'master' in git), start with it selected.\n     *\n     * Args:\n     *     branch (RB.RepositoryBranch):\n     *         The newly-added branch.\n     */\n    _onAdded(branch) {\n        RB.CollectionView.prototype._onAdded.apply(this, arguments);\n\n        if (this._rendered && branch.get('isDefault')) {\n            this.trigger('selected', branch);\n        }\n    },\n\n    /**\n     * Callback for the 'change' event on the select node.\n     *\n     * Triggers 'selected' with the given model.\n     */\n    _onChange() {\n        const selectedIx = this.$el.prop('selectedIndex');\n        this.trigger('selected', this.collection.models[selectedIx]);\n    },\n});\n"]}