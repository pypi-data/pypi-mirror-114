{"version":3,"sources":["commentIssueBarViewTests.es6.js"],"names":[],"mappings":"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","file":"commentIssueBarViewTests.js","sourcesContent":["suite('rb/views/CommentIssueBarView', function() {\n    let commentIssueManager;\n    let view;\n    let $dropButton;\n    let $reopenButton;\n    let $fixedButton;\n    let $verifyFixedButton;\n    let $verifyDroppedButton;\n\n    beforeEach(function() {\n        commentIssueManager = new RB.CommentIssueManager({\n            reviewRequest: new RB.ReviewRequest(),\n        });\n        view = new RB.CommentIssueBarView({\n            commentIssueManager: commentIssueManager,\n            issueStatus: 'open',\n            reviewID: 1,\n            commentID: 2,\n            commentType: 'diff_comments',\n            interactive: true,\n            canVerify: true,\n        });\n        view.render().$el.appendTo($testsScratch);\n\n        $dropButton = view._$buttons.filter('.drop');\n        $reopenButton = view._$buttons.filter('.reopen');\n        $fixedButton = view._$buttons.filter('.resolve');\n        $verifyFixedButton = view._$buttons.filter('.verify-resolved');\n        $verifyDroppedButton = view._$buttons.filter('.verify-dropped');\n    });\n\n    describe('Actions', function() {\n        let comment;\n\n        beforeEach(function() {\n            spyOn(commentIssueManager, 'setCommentState');\n            expect(view._$buttons.prop('disabled')).toBe(false);\n\n            comment = commentIssueManager.getComment(1, 2, 'diff_comments');\n            spyOn(comment, 'ready').and.callFake(options => {\n                if (_.isFunction(options.ready)) {\n                    options.ready.call(comment);\n                }\n            });\n            spyOn(comment, 'getAuthorUsername').and.returnValue('doc');\n        });\n\n        it('Resolving as fixed', function() {\n            $fixedButton.click();\n\n            expect(view._$buttons.prop('disabled')).toBe(true);\n\n            expect(commentIssueManager.setCommentState)\n                .toHaveBeenCalledWith(1, 2, 'diff_comments', 'resolved');\n        });\n\n        it('Dropping', function() {\n            $dropButton.click();\n\n            expect(view._$buttons.prop('disabled')).toBe(true);\n\n            expect(commentIssueManager.setCommentState)\n                .toHaveBeenCalledWith(1, 2, 'diff_comments', 'dropped');\n        });\n\n        it('Re-opening', function() {\n            view._showStatus(RB.BaseComment.STATE_RESOLVED);\n\n            $reopenButton.click();\n\n            expect(view._$buttons.prop('disabled')).toBe(true);\n\n            expect(commentIssueManager.setCommentState)\n                .toHaveBeenCalledWith(1, 2, 'diff_comments', 'open');\n        });\n\n        it('Resolving with verification', function() {\n            comment.get('extraData').require_verification = true;\n\n            $fixedButton.click();\n\n            expect(view._$buttons.prop('disabled')).toBe(true);\n\n            expect(commentIssueManager.setCommentState)\n                .toHaveBeenCalledWith(1, 2, 'diff_comments',\n                                      'verifying-resolved');\n         });\n\n        it('Dropping with verification', function() {\n            comment.get('extraData').require_verification = true;\n\n            $dropButton.click();\n\n            expect(view._$buttons.prop('disabled')).toBe(true);\n\n            expect(commentIssueManager.setCommentState)\n                .toHaveBeenCalledWith(1, 2, 'diff_comments',\n                                      'verifying-dropped');\n         });\n    });\n\n    describe('Event handling', function() {\n        describe('CommentIssueManager.issueStatusUpdated', function() {\n            beforeEach(function() {\n                spyOn(view, '_showStatus');\n            });\n\n            it('When comment updated', function() {\n                const comment = new RB.DiffComment({\n                    id: 2,\n                    issueStatus: 'resolved',\n                });\n\n                commentIssueManager.trigger('issueStatusUpdated', comment);\n\n                expect(view._showStatus).toHaveBeenCalledWith('resolved');\n            });\n\n            it('When different comment updated', function() {\n                const comment = new RB.DiffComment({\n                    id: 10,\n                    issueStatus: 'resolved',\n                });\n\n                commentIssueManager.trigger('issueStatusUpdated', comment);\n\n                expect(view._showStatus).not.toHaveBeenCalled();\n            });\n        });\n    });\n\n    describe('Issue states', function() {\n        describe('Open', function() {\n            beforeEach(function() {\n                view._showStatus(RB.BaseComment.STATE_OPEN);\n            });\n\n            it('CSS class', function() {\n                expect(view._$state.hasClass('open')).toBe(true);\n                expect(view._$state.hasClass('resolved')).toBe(false);\n                expect(view._$state.hasClass('dropped')).toBe(false);\n                expect(view._$state.hasClass('verifying-resolved')).toBe(false);\n                expect(view._$state.hasClass('verifying-dropped')).toBe(false);\n            });\n\n            it('Text', function() {\n                expect(view._$message.text()).toBe('An issue was opened.');\n            });\n\n            describe('Button visibility', function() {\n                it('\"Drop\" shown', function() {\n                    expect($dropButton.is(':visible')).toBe(true);\n                });\n\n                it('\"Fixed\" shown', function() {\n                    expect($fixedButton.is(':visible')).toBe(true);\n                });\n\n                it('\"Re-open\" hidden', function() {\n                    expect($reopenButton.is(':visible')).toBe(false);\n                });\n\n                it('\"Verify Fixed\" hidden', function() {\n                    expect($verifyFixedButton.is(':visible')).toBe(false);\n                });\n\n                it('\"Verify Dropped\" hidden', function() {\n                    expect($verifyDroppedButton.is(':visible')).toBe(false);\n                });\n            });\n        });\n\n        describe('Fixed', function() {\n            beforeEach(function() {\n                view._showStatus(RB.BaseComment.STATE_RESOLVED);\n            });\n\n            it('CSS class', function() {\n                expect(view._$state.hasClass('open')).toBe(false);\n                expect(view._$state.hasClass('resolved')).toBe(true);\n                expect(view._$state.hasClass('dropped')).toBe(false);\n                expect(view._$state.hasClass('verifying-resolved')).toBe(false);\n                expect(view._$state.hasClass('verifying-dropped')).toBe(false);\n            });\n\n            it('Text', function() {\n                expect(view._$message.text()).toBe(\n                    'The issue has been resolved.');\n            });\n\n            describe('Button visibility', function() {\n                it('\"Drop\" hidden', function() {\n                    expect($dropButton.is(':visible')).toBe(false);\n                });\n\n                it('\"Fixed\" hidden', function() {\n                    expect($fixedButton.is(':visible')).toBe(false);\n                });\n\n                it('\"Re-open\" shown', function() {\n                    expect($reopenButton.is(':visible')).toBe(true);\n                });\n\n                it('\"Verify Fixed\" hidden', function() {\n                    expect($verifyFixedButton.is(':visible')).toBe(false);\n                });\n\n                it('\"Verify Dropped\" hidden', function() {\n                    expect($verifyDroppedButton.is(':visible')).toBe(false);\n                });\n            });\n        });\n\n        describe('Dropped', function() {\n            beforeEach(function() {\n                view._showStatus(RB.BaseComment.STATE_DROPPED);\n            });\n\n            it('CSS class', function() {\n                expect(view._$state.hasClass('open')).toBe(false);\n                expect(view._$state.hasClass('resolved')).toBe(false);\n                expect(view._$state.hasClass('dropped')).toBe(true);\n                expect(view._$state.hasClass('verifying-resolved')).toBe(false);\n                expect(view._$state.hasClass('verifying-dropped')).toBe(false);\n            });\n\n            it('Text', function() {\n                expect(view._$message.text()).toBe(\n                    'The issue has been dropped.');\n            });\n\n            describe('Button visibility', function() {\n                it('\"Drop\" hidden', function() {\n                    expect($dropButton.is(':visible')).toBe(false);\n                });\n\n                it('\"Fixed\" hidden', function() {\n                    expect($fixedButton.is(':visible')).toBe(false);\n                });\n\n                it('\"Re-open\" shown', function() {\n                    expect($reopenButton.is(':visible')).toBe(true);\n                });\n\n                it('\"Verify Fixed\" hidden', function() {\n                    expect($verifyFixedButton.is(':visible')).toBe(false);\n                });\n\n                it('\"Verify Dropped\" hidden', function() {\n                    expect($verifyDroppedButton.is(':visible')).toBe(false);\n                });\n            });\n        });\n\n        describe('Verifying Fixed', function() {\n            beforeEach(function() {\n                view._showStatus(RB.BaseComment.STATE_VERIFYING_RESOLVED);\n            });\n\n            it('CSS class', function() {\n                expect(view._$state.hasClass('open')).toBe(false);\n                expect(view._$state.hasClass('resolved')).toBe(false);\n                expect(view._$state.hasClass('dropped')).toBe(false);\n                expect(view._$state.hasClass('verifying-resolved')).toBe(true);\n                expect(view._$state.hasClass('verifying-dropped')).toBe(false);\n            });\n\n            it('Text', function() {\n                expect(view._$message.text()).toBe(\n                    'Waiting for verification before resolving...');\n            });\n\n            describe('Button visibility', function() {\n                it('\"Drop\" hidden', function() {\n                    expect($dropButton.is(':visible')).toBe(false);\n                });\n\n                it('\"Fixed\" hidden', function() {\n                    expect($fixedButton.is(':visible')).toBe(false);\n                });\n\n                it('\"Re-open\" shown', function() {\n                    expect($reopenButton.is(':visible')).toBe(true);\n                });\n\n                it('\"Verify Fixed\" shown', function() {\n                    expect($verifyFixedButton.is(':visible')).toBe(true);\n                });\n\n                it('\"Verify Dropped\" hidden', function() {\n                    expect($verifyDroppedButton.is(':visible')).toBe(false);\n                });\n            });\n        });\n\n        describe('Verifying Dropped', function() {\n            beforeEach(function() {\n                view._showStatus(RB.BaseComment.STATE_VERIFYING_DROPPED);\n            });\n\n            it('CSS class', function() {\n                expect(view._$state.hasClass('open')).toBe(false);\n                expect(view._$state.hasClass('resolved')).toBe(false);\n                expect(view._$state.hasClass('dropped')).toBe(false);\n                expect(view._$state.hasClass('verifying-resolved')).toBe(false);\n                expect(view._$state.hasClass('verifying-dropped')).toBe(true);\n            });\n\n            it('Text', function() {\n                expect(view._$message.text()).toBe(\n                    'Waiting for verification before dropping...');\n            });\n\n            describe('Button visibility', function() {\n                it('\"Drop\" hidden', function() {\n                    expect($dropButton.is(':visible')).toBe(false);\n                });\n\n                it('\"Fixed\" hidden', function() {\n                    expect($fixedButton.is(':visible')).toBe(false);\n                });\n\n                it('\"Re-open\" shown', function() {\n                    expect($reopenButton.is(':visible')).toBe(true);\n                });\n\n                it('\"Verify Fixed\" hidden', function() {\n                    expect($verifyFixedButton.is(':visible')).toBe(false);\n                });\n\n                it('\"Verify Dropped\" shown', function() {\n                    expect($verifyDroppedButton.is(':visible')).toBe(true);\n                });\n            });\n        });\n    });\n});\n"]}