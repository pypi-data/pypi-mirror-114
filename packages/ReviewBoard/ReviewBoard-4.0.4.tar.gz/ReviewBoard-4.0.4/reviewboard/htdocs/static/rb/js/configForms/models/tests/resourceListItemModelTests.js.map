{"version":3,"sources":["resourceListItemModelTests.es6.js"],"names":[],"mappings":";;AAAA,MAAM,wCAAN,EAAgD,YAAW;AACvD,QAAM,eAAe,GAAG,MAAH,CAAU,gBAAV,CAA2B,MAA3B,CAAkC;AACnD,mBAAW,CAAC,MAAD,EAAS,WAAT,CADwC;AAEnD,wBAAgB;AAAA,mBAAS,IAAI,GAAG,eAAP,CAAuB,KAAvB,CAAT;AAAA;AAFmC,KAAlC,CAArB;AAIA,QAAI,iBAAJ;;AAEA,eAAW,YAAW;AAClB,mBAAW,IAAI,GAAG,eAAP,CAAuB;AAC9B,kBAAM,SADwB;AAE9B,uBAAW;AAFmB,SAAvB,CAAX;AAIH,KALD;;AAOA,aAAS,0BAAT,EAAqC,YAAW;AAC5C,WAAG,8BAAH,EAAmC,YAAW;AAC1C,gBAAM,WAAW,IAAI,YAAJ,CAAiB;AAC9B,0BAAU;AADoB,aAAjB,CAAjB;;AAIA,qBAAS,GAAT,CAAa,MAAb,EAAqB,KAArB;;AAEA,mBAAO,SAAS,GAAT,CAAa,MAAb,CAAP,EAA6B,IAA7B,CAAkC,KAAlC;AACH,SARD;;AAUA,iBAAS,aAAT,EAAwB,YAAW;AAC/B,eAAG,wBAAH,EAA6B,YAAW;AACpC,oBAAM,WAAW,IAAI,YAAJ,CAAiB;AAC9B,8BAAU,QADoB;AAE9B,0BAAM,OAFwB;AAG9B,+BAAW;AAHmB,iBAAjB,CAAjB;;AAMA,uBAAO,SAAS,GAAT,CAAa,MAAb,CAAP,EAA6B,IAA7B,CAAkC,SAAlC;AACA,uBAAO,SAAS,GAAT,CAAa,WAAb,CAAP,EAAkC,IAAlC,CAAuC,IAAvC;AACH,aATD;;AAWA,eAAG,uBAAH,EAA4B,YAAW;AACnC,oBAAM,WAAW,IAAI,YAAJ,CAAiB;AAC9B,wBAAI,GAD0B;AAE9B,0BAAM,UAFwB;AAG9B,+BAAW;AAHmB,iBAAjB,CAAjB;;AAMA,uBAAO,SAAS,GAAT,CAAa,MAAb,CAAP,EAA6B,IAA7B,CAAkC,UAAlC;AACA,uBAAO,SAAS,GAAT,CAAa,WAAb,CAAP,EAAkC,IAAlC,CAAuC,SAAvC;;AAEA,2BAAW,SAAS,GAAT,CAAa,UAAb,CAAX;AACA,uBAAO,SAAS,EAAhB,EAAoB,IAApB,CAAyB,GAAzB;AACA,uBAAO,SAAS,GAAT,CAAa,MAAb,CAAP,EAA6B,IAA7B,CAAkC,UAAlC;AACA,uBAAO,SAAS,GAAT,CAAa,WAAb,CAAP,EAAkC,IAAlC,CAAuC,SAAvC;AACH,aAdD;AAeH,SA3BD;AA4BH,KAvCD;;AAyCA,aAAS,iBAAT,EAA4B,YAAW;AACnC,YAAI,iBAAJ;;AAEA,mBAAW,YAAW;AAClB,uBAAW,IAAI,YAAJ,CAAiB;AACxB,0BAAU;AADc,aAAjB,CAAX;;AAIA,kBAAM,QAAN,EAAgB,SAAhB;AACH,SAND;;AAQA,WAAG,SAAH,EAAc,YAAW;AACrB,qBAAS,OAAT,CAAiB,SAAjB;AACA,mBAAO,SAAS,OAAhB,EAAyB,oBAAzB,CACI,SADJ,EACe,QADf,EACyB,SADzB,EACoC,EADpC;AAEH,SAJD;;AAMA,WAAG,SAAH,EAAc,YAAW;AACrB,qBAAS,OAAT,CAAiB,SAAjB;AACA,mBAAO,SAAS,OAAhB,EAAyB,oBAAzB,CAA8C,SAA9C;AACH,SAHD;;AAKA,WAAG,MAAH,EAAW,YAAW;AAClB,qBAAS,OAAT,CAAiB,MAAjB;AACA,mBAAO,SAAS,OAAhB,EAAyB,oBAAzB,CAA8C,MAA9C;AACH,SAHD;AAIH,KA1BD;AA2BH,CAlFD","file":"resourceListItemModelTests.js","sourcesContent":["suite('rb/configForms/models/ResourceListItem', function() {\n    const TestListItem = RB.Config.ResourceListItem.extend({\n        syncAttrs: ['name', 'fileRegex'],\n        createResource: attrs => new RB.DefaultReviewer(attrs),\n    });\n    let resource;\n\n    beforeEach(function() {\n        resource = new RB.DefaultReviewer({\n            name: 'my-name',\n            fileRegex: '.*',\n        });\n    });\n\n    describe('Synchronizing attributes', function() {\n        it('On resource attribute change', function() {\n            const listItem = new TestListItem({\n                resource: resource,\n            });\n\n            resource.set('name', 'foo');\n\n            expect(listItem.get('name')).toBe('foo');\n        });\n\n        describe('On creation', function() {\n            it('With existing resource', function() {\n                const listItem = new TestListItem({\n                    resource: resource,\n                    name: 'dummy',\n                    fileRegex: '/foo/.*',\n                });\n\n                expect(listItem.get('name')).toBe('my-name');\n                expect(listItem.get('fileRegex')).toBe('.*');\n            });\n\n            it('With created resource', function() {\n                const listItem = new TestListItem({\n                    id: 123,\n                    name: 'new-name',\n                    fileRegex: '/foo/.*',\n                });\n\n                expect(listItem.get('name')).toBe('new-name');\n                expect(listItem.get('fileRegex')).toBe('/foo/.*');\n\n                resource = listItem.get('resource');\n                expect(resource.id).toBe(123);\n                expect(resource.get('name')).toBe('new-name');\n                expect(resource.get('fileRegex')).toBe('/foo/.*');\n            });\n        });\n    });\n\n    describe('Event mirroring', function() {\n        let listItem;\n\n        beforeEach(function() {\n            listItem = new TestListItem({\n                resource: resource,\n            });\n\n            spyOn(listItem, 'trigger');\n        });\n\n        it('destroy', function() {\n            resource.trigger('destroy');\n            expect(listItem.trigger).toHaveBeenCalledWith(\n                'destroy', listItem, undefined, {});\n        });\n\n        it('request', function() {\n            resource.trigger('request');\n            expect(listItem.trigger).toHaveBeenCalledWith('request');\n        });\n\n        it('sync', function() {\n            resource.trigger('sync');\n            expect(listItem.trigger).toHaveBeenCalledWith('sync');\n        });\n    });\n});\n"]}