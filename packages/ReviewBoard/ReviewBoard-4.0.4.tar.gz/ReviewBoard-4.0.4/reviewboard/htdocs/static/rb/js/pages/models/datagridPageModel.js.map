{"version":3,"sources":["datagridPageModel.es6.js"],"names":[],"mappings":";;AAAA;;;;;;AAMA,GAAG,YAAH,GAAkB,GAAG,IAAH,CAAQ,MAAR,CAAe;AAC7B,cAAU,EAAE,QAAF,CAAW;AACjB,eAAO,CADU;AAEjB,uBAAe;AAFE,KAAX,EAGP,GAAG,IAAH,CAAQ,SAAR,CAAkB,QAHX,CADmB;;AAM7B;AACA,mBAAe,IAPc;;AAS7B;;;AAGA,cAZ6B,wBAYhB;AAAA;;AACT,aAAK,SAAL,GAAiB,IAAI,SAAS,UAAb,CAAwB,EAAxB,EAA4B;AACzC,mBAAO,KAAK;AAD6B,SAA5B,CAAjB;;AAIA,aAAK,QAAL,CAAc,KAAK,SAAnB,EAA8B,kBAA9B,EACc;AAAA,mBAAM,MAAK,GAAL,CAAS,OAAT,EAAkB,MAAK,SAAL,CAAe,MAAjC,CAAN;AAAA,SADd;AAEH,KAnB4B;;;AAqB7B;;;;;;;AAOA,UA5B6B,kBA4BtB,EA5BsB,EA4BlB;AACP,YAAM,gBAAgB,KAAK,GAAL,CAAS,eAAT,CAAtB;;AAEA,aAAK,SAAL,CAAe,GAAf,CAAmB;AACf,gBAAI,EADW;AAEf,6BAAiB,uBAAqB,aAArB,SAAwC;AAF1C,SAAnB;AAIH,KAnC4B;;;AAqC7B;;;;;;;AAOA,YA5C6B,oBA4CpB,EA5CoB,EA4ChB;AACT,aAAK,SAAL,CAAe,MAAf,CAAsB,KAAK,SAAL,CAAe,GAAf,CAAmB,EAAnB,CAAtB;AACH,KA9C4B;;;AAgD7B;;;AAGA,kBAnD6B,4BAmDZ;AACb,aAAK,SAAL,CAAe,KAAf;AACH;AArD4B,CAAf,CAAlB","file":"datagridPageModel.js","sourcesContent":["/**\n * Models a generic datagrid.\n *\n * This will keep track of any selected objects, allowing subclasses to easily\n * perform operations on them.\n */\nRB.DatagridPage = RB.Page.extend({\n    defaults: _.defaults({\n        count: 0,\n        localSiteName: null,\n    }, RB.Page.prototype.defaults),\n\n    /* The type of object each row represents, for use in batch selection. */\n    rowObjectType: null,\n\n    /**\n     * Initialize the model.\n     */\n    initialize() {\n        this.selection = new Backbone.Collection([], {\n            model: this.rowObjectType,\n        });\n\n        this.listenTo(this.selection, 'add remove reset',\n                      () => this.set('count', this.selection.length));\n    },\n\n    /**\n     * Add a selected row to be used for any actions.\n     *\n     * Args:\n     *     id (string):\n     *         The ID of the selected row.\n     */\n    select(id) {\n        const localSiteName = this.get('localSiteName');\n\n        this.selection.add({\n            id: id,\n            localSitePrefix: localSiteName ? `s/${localSiteName}/` : null,\n        });\n    },\n\n    /**\n     * Remove a selected row.\n     *\n     * Args:\n     *     id (string):\n     *         The ID of the row to remove.\n     */\n    unselect(id) {\n        this.selection.remove(this.selection.get(id));\n    },\n\n    /**\n     * Clear the list of selected rows.\n     */\n    clearSelection() {\n        this.selection.reset();\n    },\n});\n"]}