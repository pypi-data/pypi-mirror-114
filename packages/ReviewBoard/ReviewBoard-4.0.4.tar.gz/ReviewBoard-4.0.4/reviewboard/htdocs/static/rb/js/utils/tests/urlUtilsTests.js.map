{"version":3,"sources":["urlUtilsTests.es6.js"],"names":[],"mappings":";;AAAA,MAAM,mBAAN,EAA2B,YAAW;AAClC,aAAS,iBAAT,EAA4B,YAAW;AACnC,mBAAW,YAAW;AAClB,mBAAO,GAAP,GAAa,YAAW,CAAE,CAA1B;AACH,SAFD;;AAIA,kBAAU,YAAW;AACjB,gBAAI,OAAO,cAAP,CAAsB,KAAtB,CAAJ,EAAkC;AAC9B,uBAAO,OAAO,GAAd;AACH;AACJ,SAJD;;AAMA,WAAG,wBAAH,EAA6B,UAAS,IAAT,EAAe;AACxC,kBAAM,MAAN,EAAc,KAAd;;AAEA,gBAAM,MAAM,wDAAZ;AACA,gBAAM,OAAO,GAAG,eAAH,CAAmB,GAAnB,CAAb;;AAEA,2BAAa,IAAb;;AAEA,cAAE,KAAF,CAAQ,YAAW;AACf,uBAAO,OAAO,GAAd,EAAmB,GAAnB,CAAuB,gBAAvB;AACA;AACH,aAHD;AAIH,SAZD;AAaH,KAxBD;AAyBH,CA1BD","file":"urlUtilsTests.js","sourcesContent":["suite('rb/utils/urlUtils', function() {\n    describe('getLocationHash', function() {\n        beforeEach(function() {\n            window.xss = function() {};\n        });\n\n        afterEach(function() {\n            if (window.hasOwnProperty('xss')) {\n                delete window.xss;\n            }\n        });\n\n        it('Prevents XSS injection', function(done) {\n            spyOn(window, 'xss');\n\n            const url = 'http://www.example.com/#<img/src/onerror=window.xss()>';\n            const hash = RB.getLocationHash(url);\n\n            $(`a[name=\"${hash}\"]`);\n\n            _.delay(function() {\n                expect(window.xss).not.toHaveBeenCalled();\n                done();\n            });\n        });\n    });\n});\n"]}